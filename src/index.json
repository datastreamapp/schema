{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DataStream",
  "description": "DataStream WQX Results",
  "type": "object",
  "definitions": {
    "timezone": {
      "description": "ISO 8601 Timezone",
      "type": "string",
      "pattern": "^(Z|[+-](0[0-9]|1[0-9]|2[0-4])([0-5][0-9]))$",
      "maxLength": 5
    }
  },
  "additionalProperties": false,
  "properties": {
    "ProjectName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ProjectName",
      "maxLength": 255
    },
    "MonitoringLocationID": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MonitoringLocationID"
    },
    "MonitoringLocationName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MonitoringLocationName",
      "minLength": 1
    },
    "MonitoringLocationLatitude": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MonitoringLocationLatitude"
    },
    "MonitoringLocationLongitude": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MonitoringLocationLongitude"
    },
    "MonitoringLocationHorizontalCoordinateReferenceSystem": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MonitoringLocationHorizontalCoordinateReferenceSystem",
      "type": "string",
      "default": "UNKWN"
    },
    "MonitoringLocationRegion": {
      "title": "Monitoring Location Region",
      "description": "Region name",
      "type": "string",
      "maxLength": 255
    },
    "MonitoringLocationType": {
      "$ref": "./definitions.json#/MonitoringLocationType"
    },
    "MonitoringLocationWaterbody": {
      "title": "Monitoring Location Waterbody",
      "description": "Waterbody name at location",
      "type": "string",
      "maxLength": 255
    },
    "ActivityType": {
      "$ref": "./definitions.json#/ActivityType"
    },
    "ActivityMediaName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityMediaName",
      "default": "Water"
    },
    "ActivityStartDate": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityStartDate"
    },
    "ActivityStartTime": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityStartTime"
    },
    "ActivityEndDate": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityEndDate",
      "TODO": "** Have it default to StartTimestamp"
    },
    "ActivityEndTime": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityEndTime"
    },
    "ActivityDepthHeightMeasure": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityDepthHeightMeasure",
      "maximum": 0
    },
    "ActivityDepthHeightUnit": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ActivityDepthHeightUnit"
    },
    "SampleCollectionEquipmentName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/SampleCollectionEquipmentName"
    },
    "ResultDetectionCondition": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultDetectionCondition"
    },
    "CharacteristicName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/CharacteristicName"
    },
    "MethodSpeciation": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/MethodSpeciation"
    },
    "ResultSampleFraction": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultSampleFraction"
    },
    "ResultValue": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultValue"
    },
    "ResultUnit": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultUnit"
    },
    "ResultStatusID": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultStatusID"
    },
    "ResultComment": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultComment"
    },
    "ResultAnalyticalMethodID": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultAnalyticalMethodID"
    },
    "ResultAnalyticalMethodName": {
      "title": "Result Analytical Method Name",
      "description": "Name of the analytical method",
      "type": "string",
      "maxLength": 100
    },
    "ResultAnalyticalMethodContext": {
      "$ref": "./definitions.json#/ResultAnalyticalMethodContext"
    },
    "LaboratoryName": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/LaboratoryName"
    },
    "LaboratorySampleID": {
      "title": "Laboratory Sample ID",
      "description": "Unique identifier for the lab sample",
      "type": "string",
      "maxLength": 60
    },
    "AnalysisStartDate": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/AnalysisStartDate"
    },
    "AnalysisStartTime": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/AnalysisStartTime"
    },
    "AnalysisStartTimeZone": {
      "title": "Analysis Start Timezone",
      "description": "",
      "$ref": "#/definitions/timezone"
    },
    "ResultDetectionQuantitationLimitType": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultDetectionQuantitationLimitType"
    },
    "ResultDetectionQuantitationLimitMeasure": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultDetectionQuantitationLimitMeasure"
    },
    "ResultDetectionQuantitationLimitUnit": {
      "$ref": "../node_modules/wqx/json-schema/definitions.json#/ResultDetectionQuantitationLimitUnit"
    }
  },
  "required": [
    "ProjectName",
    "MonitoringLocationName",
    "MonitoringLocationLatitude",
    "MonitoringLocationLongitude",
    "MonitoringLocationHorizontalCoordinateReferenceSystem",
    "MonitoringLocationType",
    "ActivityType",
    "ActivityMediaName",
    "ActivityStartDate",
    "CharacteristicName",
    "ResultSampleFraction"
  ],
  "oneOf": [
    {
      "required": [
        "ResultValue"
      ]
    },
    {
      "required": [
        "ResultDetectionCondition"
      ]
    }
  ],
  "dependencies": {
    "ActivityDepthHeightMeasure": ["ActivityDepthHeightUnit"],
    "ResultValue": ["ResultUnit"],
    "ResultDetectionCondition": ["ResultDetectionQuantitationLimitMeasure"],
    "ResultDetectionQuantitationLimitMeasure": [
      "ResultDetectionQuantitationLimitUnit",
      "ResultDetectionQuantitationLimitType"
    ],
    "ResultAnalyticalMethodID": [
      "ResultAnalyticalMethodContext",
      "ResultAnalyticalMethodName"
    ],
    "AnalysisStartTime":["AnalysisStartTimeZone"]
  }
}
